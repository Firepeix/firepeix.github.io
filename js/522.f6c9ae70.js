"use strict";(globalThis["webpackChunkebisu_web"]=globalThis["webpackChunkebisu_web"]||[]).push([[522],{9522:(e,a,l)=>{l.r(a),l.d(a,{default:()=>xa});var t=l(3673),n=l(1959);l(71);class o{constructor({name:e,label:a="",align:l=p.Center,required:t=!0,sortable:n=!1}){this.name=e,this.field=this.setFieldGetter,this.label=a,this.required=t,this.align=l,this.sortable=n}setFieldGetter(e){return e.getValueForKey(this.name)}}class s{constructor(e,a){this.name=e,this.value=a}}class r{constructor(e){const a={};e.forEach((e=>a[e.key]=e)),this.values=a}getValueForKey(e){var a,l;return null!==(a=null===(l=this.values[e])||void 0===l?void 0:l.value)&&void 0!==a?a:""}get(e){return this.values[e]}}class i{constructor({key:e,value:a="",color:l="#000",weight:t,size:n}){this.value=a,this.key=e,this.color="object"===typeof l?`rgb(${l.red}, ${l.green}, ${l.blue})`:l,this.weight=t,this.size=n}}class u extends i{constructor(e){super({key:"actions",value:e}),this.actions=e}}class d{constructor(e,a,l,t){this.color=e,this.icon=a,this.tooltip=l,this.action=t}}class c{constructor(e,a){this.colspan=e,this.value=a}}const m={Horizontal:"horizontal",Vertical:"vertical",Cell:"cell",None:"none"},p={Left:"left",Right:"right",Center:"center"};var w=l(2323);function v(e,a){return[...Array(a).keys()]}const y={key:0},g=["colspan"],f={key:1},b=["colspan"],h={key:2},_={class:"text-center vertical-header"},U={class:"text-center"},k={class:"text-center vertical-header"},V={class:"text-center"},Z={key:2},S=["colspan"],D={__name:"ETable",props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},hasHeader:{type:Boolean,default:!1},subHeaders:{type:Array,default:()=>[]},vertical:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},noColumns:{type:Boolean,default:!1},columnRows:{type:Array,default:()=>[]},separator:{type:String,default:()=>m.Horizontal},footer:{type:Boolean,default:!1},loaded:{type:Boolean,default:!0},loadingQuantity:{type:Number,default:5}},setup(e){return(a,l)=>{const o=(0,t.up)("q-skeleton"),s=(0,t.up)("q-markup-table");return(0,t.wg)(),(0,t.j4)(s,{separator:e.separator,flat:e.flat},{default:(0,t.w5)((()=>[(0,t._)("thead",null,[e.hasHeader?((0,t.wg)(),(0,t.iD)("tr",y,[(0,t._)("th",{colspan:e.vertical?2:e.columns.length},[(0,t.WI)(a.$slots,"header")],8,g)])):(0,t.kq)("",!0),e.subHeaders.length>0?((0,t.wg)(),(0,t.iD)("tr",f,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.subHeaders,((e,a)=>((0,t.wg)(),(0,t.iD)("th",{class:"upper-border",colspan:e.colspan,key:`sh-${a}`},(0,w.zw)(e.value),9,b)))),128))])):(0,t.kq)("",!0),e.vertical||e.noColumns?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("tr",h,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,a)=>((0,t.wg)(),(0,t.iD)("th",{key:`c-${a}`,class:(0,w.C_)(0===a?"text-left":"text-right")},(0,w.zw)(e.label),3)))),128))]))]),(0,t._)("tbody",null,[e.loaded?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[e.vertical?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(e.columnRows,((a,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:`crv-${l}`,class:(0,w.C_)(l===e.columnRows.length-1?"last":"")},[(0,t._)("td",_,(0,w.zw)(a.name),1),(0,t._)("td",U,(0,w.zw)(a.value),1)],2)))),128)):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(e.rows,((a,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:`r-${l}`},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,l)=>{var n,o,s,r,i;return(0,t.wg)(),(0,t.iD)("td",{style:(0,w.j5)(`color:${null===(n=a.get(e.name))||void 0===n?void 0:n.color}; ${null!==(o=a.get(e.name))&&void 0!==o&&o.size?`font-size:${null===(s=a.get(e.name))||void 0===s?void 0:s.size}`:""}; ${null!==(r=a.get(e.name))&&void 0!==r&&r.weight?`font-weight:${null===(i=a.get(e.name))||void 0===i?void 0:i.weight}`:""}`),key:`cr-${l}`,class:(0,w.C_)(0===l?"text-left":"text-right")},(0,w.zw)(a.getValueForKey(e.name)),7)})),128))])))),128))],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[e.vertical?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)((0,n.SU)(v)(0,e.loadingQuantity),((a,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:`vlr-${l}`,class:(0,w.C_)(l===e.columnRows.length-1?"last":"")},[(0,t._)("td",k,[(0,t.Wm)(o,{type:"text"})]),(0,t._)("td",V,[(0,t.Wm)(o,{type:"text"})])],2)))),128)):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)((0,n.SU)(v)(0,e.loadingQuantity),((a,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:`r-${l}`},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,a)=>((0,t.wg)(),(0,t.iD)("td",{key:`crl-${a}`,class:(0,w.C_)(0===a?"text-left":"text-right")},[(0,t.Wm)(o,{type:"text"})],2)))),128))])))),128))],64)),e.footer?((0,t.wg)(),(0,t.iD)("tr",Z,[(0,t._)("th",{colspan:e.vertical?2:e.columns.length,style:{"padding-top":"0"}},[(0,t.WI)(a.$slots,"footer")],8,S)])):(0,t.kq)("",!0)])])),_:3},8,["separator","flat"])}}};var x=l(4260),W=l(481),q=l(4103),z=l(7518),I=l.n(z);const B=(0,x.Z)(D,[["__scopeId","data-v-1f7189e8"]]),R=B;I()(D,"components",{QMarkupTable:W.Z,QSkeleton:q.ZP});var C=l(6555),Q=l(8825),$=l(166);const H=(0,t.Uk)(" Entradas "),T={__name:"IncomeTable",setup(e){const a=(0,Q.Z)();let l=[new o({name:"name",label:"Nome"}),new o({name:"amount",label:"Valor"}),new o({name:"origin",label:"Origem"})],s=(0,n.iH)([]),u=(0,n.iH)(!1);(0,t.bv)((async()=>{try{u.value=!1,s.value=await C.d4.getIncomes(),u.value=!0}catch(e){console.log(e),u.value=!0,a.notify(new $.lt("Não foi possivel buscar entradas. Tente novamente mais tarde!"))}}));let d=(0,t.Fl)((()=>s.value.map((e=>new r([new i({key:"name",value:e.name}),new i({key:"amount",value:e.amount.toReal()}),new i({key:"origin",value:e.origin.name})])))));return(e,a)=>((0,t.wg)(),(0,t.j4)(R,{columns:(0,n.SU)(l),rows:(0,n.SU)(d),"has-header":!0,loaded:(0,n.SU)(u)},{header:(0,t.w5)((()=>[H])),_:1},8,["columns","rows","loaded"]))}},P=T,N=P;l(7596);const A={class:"modal-header"},j={class:"inner-section"},E={__name:"DrawerModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e){return(a,l)=>{const n=(0,t.up)("q-drawer");return(0,t.wg)(),(0,t.j4)(n,{"model-value":e.modelValue,"onUpdate:modelValue":l[0]||(l[0]=e=>a.$emit("input",e.target.value)),bordered:"",class:"bg-grey-1 drawer-modal",side:"right"},{default:(0,t.w5)((()=>[(0,t._)("div",A,(0,w.zw)(e.title),1),(0,t._)("div",j,[(0,t.WI)(a.$slots,"default")])])),_:3},8,["model-value"])}}};var F=l(2428);const Y=(0,x.Z)(E,[["__scopeId","data-v-644d3626"]]),K=Y;I()(E,"components",{QDrawer:F.Z});var L=l(8290),M=l(919),G=l(8276),O=l(1759),J=l(1427),X=l(5695),ee=l(6864),ae=l(8334),le=l(5837),te=l(3118),ne=l(5474);const oe=new G.Z(new O.Z,ne.ebisuClient),se=new J.Z(new X.Z,ne.ebisuClient),re=new le.Z(new te.Z,ne.ebisuClient),ie=(new L.Z,new M.Z(oe),new ee.Z(se)),ue=(new ae.Z(re),{__name:"SummaryTable",props:{modelValue:{type:Boolean,default:!1}},setup(e){const a=e,l=(0,Q.Z)();(0,t.m0)((()=>{a.modelValue&&setTimeout((()=>i()),500)}));const o=(0,n.iH)(null),r=(0,n.iH)(!1);async function i(){try{r.value=!1,o.value=await ie.getDebitSummary(),r.value=!0}catch(e){console.log(e),r.value=!0,l.notify(new $.lt("Não foi possivel buscar resumo de credito. Tente novamente mais tarde!"))}}let u=(0,t.Fl)((()=>null==o.value?[]:[new s("Valor Liquido Atual",o.value.currentNetAmount.toReal()),new s("Valor à Pagar",o.value.amountToPay.toReal()),new s("Valor Pago",o.value.payedAmount.toReal()),new s("Valor Total",o.value.totalAmount.toReal()),new s("Valor Restante",o.value.currentAmount.toReal()),new s("Valor Previsto",o.value.forecastAmount.toReal())]));return(a,l)=>((0,t.wg)(),(0,t.j4)(K,{"model-value":e.modelValue,title:"Resumo","onUpdate:modelValue":l[0]||(l[0]=e=>a.$emit("input",e.target.value))},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{"column-rows":(0,n.SU)(u),vertical:"",flat:"",loaded:r.value},null,8,["column-rows","loaded"])])),_:1},8,["model-value"]))}}),de=ue,ce=de;var me=l(2270),pe=(l(1524),l(9135)),we=l(3088);const ve=(0,t.Uk)(" Divisão "),ye={__name:"UserBalanceTable",setup(e){const a=[new c(2,"A Pagar"),new c(2,"A Receber")],l=(0,Q.Z)(),s=(0,n.qj)({isLoadingUsers:!0,users:[],selectedUser:null,userBalance:null,expenses:[]});async function u(){try{s.isLoadingUsers=!0,s.users=(await C.W4.getFriends()).map((e=>({label:e.name,value:e.id}))),s.isLoadingUsers=!1}catch(e){console.log(e),s.isLoadingUsers=!1,l.notify(new $.lt("Não foi possivel buscar usuarios. Tente novamente mais tarde!"))}}async function d(e){try{s.expenses=[],s.userBalance=await C.W4.getUserFriendBalance(e),y()}catch(a){console.log(a),l.notify(new $.lt("Buscar balanço de usuario. Tente novamente mais tarde!"))}}(0,t.bv)((async()=>{var e;await u(),s.selectedUser=null!==(e=s.users[0])&&void 0!==e?e:null})),(0,t.m0)((()=>{s.selectedUser&&d(s.selectedUser.value)}));let p=[new o({name:"userExpenseName"}),new o({name:"userExpenseValue"}),new o({name:"destinyExpenseValue"}),new o({name:"destinyExpenseName"})];function y(){if(s.userBalance){let p=[],w=s.userBalance.userBeneficiaryExpenses,y=s.userBalance.friendBeneficiaryExpenses,g=y.length>w.length?y.length:w.length;for(let s in v(0,g)){var e,a,l,t,n,o,u,d,c,m;p.push(new r([new i({key:"userExpenseName",value:null!==(e=null===(a=y[s])||void 0===a?void 0:a.name)&&void 0!==e?e:""}),new i({key:"userExpenseValue",value:null!==(l=null===(t=y[s])||void 0===t||null===(n=t.amount)||void 0===n?void 0:n.toReal())&&void 0!==l?l:""}),new i({key:"destinyExpenseName",value:null!==(o=null===(u=w[s])||void 0===u?void 0:u.name)&&void 0!==o?o:""}),new i({key:"destinyExpenseValue",value:null!==(d=null===(c=w[s])||void 0===c||null===(m=c.amount)||void 0===m?void 0:m.toReal())&&void 0!==d?d:""})]))}s.expenses=p}}let g=(0,t.Fl)((()=>s.userBalance?s.userBalance.balanceTotalAmount:new me.Z(0))),f=(0,t.Fl)((()=>we.x.when(g.value.field(),[new we.E(me.f.Positive,"Receber de "),new we.E(me.f.Negative,"Enviar para "),new we.E(me.f.Zero,"Não realizar operação com")])));const b=(0,t.Fl)((()=>({positive:g.value.field()==me.f.Positive,negative:g.value.field()==me.f.Negative,zero:g.value.field()==me.f.Zero})));return(e,l)=>{const o=(0,t.up)("q-skeleton"),r=(0,t.up)("q-select");return(0,t.wg)(),(0,t.j4)(R,{"has-header":"",rows:s.expenses,footer:"",separator:(0,n.SU)(m).Vertical,columns:(0,n.SU)(p),"no-columns":"","sub-headers":a},{header:(0,t.w5)((()=>[ve,s.isLoadingUsers?((0,t.wg)(),(0,t.j4)(o,{key:0,type:"QInput"})):((0,t.wg)(),(0,t.j4)(r,{key:1,square:"",outlined:"",modelValue:s.selectedUser,"onUpdate:modelValue":l[0]||(l[0]=e=>s.selectedUser=e),options:s.users,label:"Usuario"},null,8,["modelValue","options"]))])),footer:(0,t.w5)((()=>[null!=s.selectedUser&&s.expenses.length>0?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,w.C_)((0,n.SU)(b)),id:"balance"},(0,w.zw)((0,n.SU)(f))+" "+(0,w.zw)(s.selectedUser.label.split(" ")[0])+": "+(0,w.zw)((0,n.SU)(g).toReal(!1)),3)):(0,t.kq)("",!0)])),_:1},8,["rows","separator","columns"])}}};var ge=l(3017);const fe=(0,x.Z)(ye,[["__scopeId","data-v-a1ab3098"]]),be=fe;function he(e,a){const l=(0,t.up)("q-tooltip");return(0,t.wg)(),(0,t.j4)(l,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"default")])),_:3})}I()(ye,"components",{QSkeleton:q.ZP,QSelect:ge.Z});var _e=l(8870);const Ue={},ke=(0,x.Z)(Ue,[["render",he]]),Ve=ke;I()(Ue,"components",{QTooltip:_e.Z});const Ze={__name:"DataTable",props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},separator:{type:String,default:()=>m.Horizontal},title:{type:String},loading:{type:Boolean,default:!1}},setup(e){const a=e;function l(e){if(e)return{sortBy:void 0,descending:!0,page:1,rowsPerPage:30}}const o=l(a.columns);return(a,l)=>{const s=(0,t.up)("q-td"),r=(0,t.up)("q-icon"),i=(0,t.up)("q-table");return(0,t.wg)(),(0,t.j4)(i,{class:"ebisu-table",columns:e.columns,rows:e.rows,title:e.title,separator:e.separator,pagination:(0,n.SU)(o),loading:e.loading},{"body-cell-card":(0,t.w5)((e=>[(0,t.Wm)(s,{props:e,class:"asd"},{default:(0,t.w5)((()=>{var a;return[(0,t._)("span",{style:(0,w.j5)(`color: ${null===(a=e.row.get(e.col.name))||void 0===a?void 0:a.color}`)},(0,w.zw)(e.value),5)]})),_:2},1032,["props"])])),"body-cell-actions":(0,t.w5)((e=>[(0,t.Wm)(s,{props:e,class:"action-field"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.value,((e,a)=>((0,t.wg)(),(0,t.j4)(r,{key:`tab-${a}`,onClick:e.action,round:"",color:e.color,size:"sm",name:e.icon},{default:(0,t.w5)((()=>[(0,t.Wm)(Ve,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,w.zw)(e.tooltip),1)])),_:2},1024)])),_:2},1032,["onClick","color","name"])))),128))])),_:2},1032,["props"])])),_:1},8,["columns","rows","title","separator","pagination","loading"])}}};var Se=l(7639),De=l(3884),xe=l(4554);const We=Ze,qe=We;I()(Ze,"components",{QTable:Se.Z,QTd:De.Z,QIcon:xe.Z});const ze={__name:"ExpenseTable",setup(e){const a=(0,Q.Z)(),l=(0,n.iH)(!1),s=(0,n.iH)([]);async function c(){try{l.value=!0,s.value=await C.LZ.getCurrentExpenses(),l.value=!1}catch(e){console.log(e),l.value=!1,a.notify(new $.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}(0,t.bv)((async()=>{await c()}));let m=[new o({name:"name",label:"Nome",align:p.Left}),new o({name:"amount",label:"Valor"}),new o({name:"date",label:"Data"}),new o({name:"payed",label:"Pago"}),new o({name:"card",label:"Cartão"}),new o({name:"beneficiary",label:"Beneficiario"}),new o({name:"installments",label:"Parcelamento"}),new o({name:"actions",label:"Ações"})],w=(0,t.Fl)((()=>s.value.map((e=>{var a,l,t,n,o,s,c;return new r([new i({key:"name",value:e.name}),new i({key:"amount",value:e.amount.toReal()}),new i({key:"date",value:e.date.display()}),new i({key:"payed",value:e.payed?"Sim":"Não"}),new i({key:"card",value:null!==(a=null===(l=e.card)||void 0===l?void 0:l.name)&&void 0!==a?a:"N/A",color:null===(t=e.card)||void 0===t?void 0:t.color}),new i({key:"beneficiary",value:null!==(n=null===(o=e.beneficiary)||void 0===o?void 0:o.name)&&void 0!==n?n:"N/A"}),new i({key:"installments",value:null!==(s=null===(c=e.installmentInformation)||void 0===c?void 0:c.display())&&void 0!==s?s:"N/A"}),new u([new d("positive","check","Pagar",(()=>v(e.id))),new d("negative","close","Deletar",(()=>y(e.id)))])])}))));async function v(e){try{const l=a.notify(new $.BT),t=await C.LZ.pay(e);l(),a.notify(new $.Ur(t)),c()}catch(l){console.log(l),a.notify(new $.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}async function y(e){try{const l=a.notify(new $.BT),t=await C.LZ["delete"](e);l(),a.notify(new $.Ur(t)),c()}catch(l){console.log(l),a.notify(new $.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}return(e,a)=>((0,t.wg)(),(0,t.j4)(qe,{columns:(0,n.SU)(m),rows:(0,n.SU)(w),title:"Despesas",loading:l.value},null,8,["columns","rows","loading"]))}},Ie=ze,Be=Ie;var Re=l(7035);const Ce={class:"title"},Qe={class:"actions"},$e={__name:"PageHeader",props:{title:{type:String,default:""},bordered:{type:Boolean,default:!1}},setup(e){return(a,l)=>((0,t.wg)(),(0,t.j4)(Re.Z,{class:"q-mb-md page-header",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t._)("div",Ce,(0,w.zw)(e.title),1),(0,t._)("div",Qe,[(0,t.WI)(a.$slots,"default")])])),_:3}))}};var He=l(151),Te=l(4607);const Pe=$e,Ne=Pe;I()($e,"components",{QCard:He.Z,QBtn:Te.Z});const Ae={class:"form-header"},je={class:"form-section"},Ee={__name:"DrawerForm",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e){return(a,l)=>{const n=(0,t.up)("q-drawer");return(0,t.wg)(),(0,t.j4)(n,{"model-value":e.modelValue,"onUpdate:modelValue":l[0]||(l[0]=e=>a.$emit("input",e.target.value)),bordered:"",class:"bg-grey-1 form-drawer",side:"right"},{default:(0,t.w5)((()=>[(0,t._)("div",Ae,(0,w.zw)(e.title),1),(0,t._)("div",je,[(0,t.WI)(a.$slots,"default")])])),_:3},8,["model-value"])}}};var Fe=l(6115);const Ye=(0,x.Z)(Ee,[["__scopeId","data-v-02f223de"]]),Ke=Ye;I()(Ee,"components",{QDrawer:F.Z,QField:Fe.Z});var Le=l(8554),Me=l(6755);class Ge{constructor(e,a){this.id=e,this.name=a}}const Oe={class:"row items-center justify-end"},Je={class:"flex justify-around"},Xe={key:0},ea={__name:"DebitExpenseForm",props:{modelValue:{type:Boolean,default:!1}},setup(e){let a=(0,n.qj)(new pe.Jb(pe.uG.Debit)),l={name:[e=>e&&e.length>0||"O nome da despesa é obrigatório"],amount:[e=>e&&me.Z.format(e)>0||"O valor da despesa deve ser maior que 0"],currentInstallment:[e=>e&&me.Z.format(e)>1||"Despesas recorrentes devem ter pelo menos 2 parcelas"]},o=[new Me.Z("2","Wendy Artiaga"),new Me.Z("3","Maria Aparecida"),new Me.Z("4","Tatielle Fernandes")],s=[new Ge("2","Nubank"),new Ge("3","Picpay"),new Ge("4","Direcional")],r=o.map((e=>({label:e.name,value:`U-${e.id}`,type:Le.Z.User}))).concat(s.map((e=>({label:e.name,value:`E-${e.id}`,type:Le.Z.Establishment}))));return(o,s)=>{const i=(0,t.up)("q-input"),u=(0,t.up)("q-btn"),d=(0,t.up)("q-date"),c=(0,t.up)("q-popup-proxy"),m=(0,t.up)("q-icon"),p=(0,t.up)("q-item-label"),v=(0,t.up)("q-item-section"),y=(0,t.up)("q-item"),g=(0,t.up)("q-select"),f=(0,t.up)("q-checkbox"),b=(0,t.up)("q-form"),h=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(Ke,{"model-value":e.modelValue,title:"Criar Despesa","onUpdate:modelValue":s[9]||(s[9]=e=>o.$emit("input",e.target.value))},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{onSubmit:o.onSubmit,onReset:o.onReset,class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{modelValue:(0,n.SU)(a).name,"onUpdate:modelValue":s[0]||(s[0]=e=>(0,n.SU)(a).name=e),label:"Nome","lazy-rules":"",rules:(0,n.SU)(l).name},null,8,["modelValue","rules"]),(0,t.Wm)(i,{modelValue:(0,n.SU)(a).amount,"onUpdate:modelValue":s[1]||(s[1]=e=>(0,n.SU)(a).amount=e),label:"Valor",mask:"##.###,##","reverse-fill-mask":"","lazy-rules":"",rules:(0,n.SU)(l).amount},null,8,["modelValue","rules"]),(0,t.Wm)(i,{modelValue:(0,n.SU)(a).date,"onUpdate:modelValue":s[3]||(s[3]=e=>(0,n.SU)(a).date=e),mask:"##/##/####",label:"Data","lazy-rules":""},{append:(0,t.w5)((()=>[(0,t.Wm)(m,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{modelValue:(0,n.SU)(a).date,"onUpdate:modelValue":s[2]||(s[2]=e=>(0,n.SU)(a).date=e),mask:"DD/MM/YYYY"},{default:(0,t.w5)((()=>[(0,t._)("div",Oe,[(0,t.wy)((0,t.Wm)(u,{label:"Close",color:"primary",flat:""},null,512),[[h]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(g,{class:"destiny-select",modelValue:(0,n.SU)(a).destiny,"onUpdate:modelValue":s[4]||(s[4]=e=>(0,n.SU)(a).destiny=e),options:(0,n.SU)(r),label:"Destino"},{option:(0,t.w5)((e=>[(0,t.Wm)(y,(0,w.vs)((0,t.F4)(e.itemProps)),{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,w.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(p,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,w.zw)(e.opt.type==(0,n.SU)(Le.Z).User?"Usuario":"Estabelecimento"),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,t._)("div",Je,[(0,t.Wm)(f,{modelValue:(0,n.SU)(a).isPayed,"onUpdate:modelValue":s[5]||(s[5]=e=>(0,n.SU)(a).isPayed=e),label:"Pago"},null,8,["modelValue"]),(0,t.Wm)(f,{modelValue:(0,n.SU)(a).hasInstallments,"onUpdate:modelValue":s[6]||(s[6]=e=>(0,n.SU)(a).hasInstallments=e),label:"Recorrente"},null,8,["modelValue"])]),(0,n.SU)(a).hasInstallments?((0,t.wg)(),(0,t.iD)("div",Xe,[(0,t.Wm)(i,{modelValue:(0,n.SU)(a).installmentsInformation.currentInstallment,"onUpdate:modelValue":s[7]||(s[7]=e=>(0,n.SU)(a).installmentsInformation.currentInstallment=e),label:"Parcela Atual",mask:"###","lazy-rules":"",rules:(0,n.SU)(l).clearable},null,8,["modelValue","rules"]),(0,t.Wm)(i,{modelValue:(0,n.SU)(a).installmentsInformation.maxInstallments,"onUpdate:modelValue":s[8]||(s[8]=e=>(0,n.SU)(a).installmentsInformation.maxInstallments=e),label:"Ultima Parcela",mask:"###","lazy-rules":"",clearable:""},null,8,["modelValue"])])):(0,t.kq)("",!0),(0,t._)("div",null,[(0,t.Wm)(u,{class:"full-width",label:"Adicionar",color:"primary"})])])),_:1},8,["onSubmit","onReset"])])),_:1},8,["model-value"])}}};var aa=l(5269),la=l(4842),ta=l(3944),na=l(643),oa=l(3414),sa=l(2035),ra=l(2350),ia=l(1420),ua=l(677);I()(ea,"components",{QForm:aa.Z,QInput:la.Z,QIcon:xe.Z,QPopupProxy:ta.Z,QDate:na.Z,QBtn:Te.Z,QSelect:ge.Z,QItem:oa.Z,QItemSection:sa.Z,QItemLabel:ra.Z,QCheckbox:ia.Z}),I()(ea,"directives",{ClosePopup:ua.Z});l(5297);const da=(0,t.Uk)(" Resumo Compras "),ca={__name:"CreditSummary",setup(e){const a=(0,Q.Z)();let l=[new o({name:"card",label:"Cartão"}),new o({name:"spent",label:"Gasto"}),new o({name:"planned",label:"Planejado"}),new o({name:"difference",label:"Diferença"})];const s=(0,n.iH)([]),u=(0,n.iH)(!1);(0,t.bv)((async()=>{try{u.value=!1,s.value=await C.sM.getCreditSummary(),u.value=!0}catch(e){u.value=!0,a.notify(new $.lt("Não foi possivel buscar resumo de credito. Tente novamente mais tarde!"))}}));let d=(0,t.Fl)((()=>s.value.map((e=>new r([new i({key:"card",value:e.card.name,color:e.card.color,size:"1rem",weight:600}),new i({key:"spent",value:e.spent.toReal()}),new i({key:"planned",value:e.planned.toReal()}),new i({key:"difference",value:e.difference.toReal(),color:e.difference.color,size:"1rem",weight:600})])))));return(e,a)=>((0,t.wg)(),(0,t.j4)(R,{columns:(0,n.SU)(l),rows:(0,n.SU)(d),"has-header":"",loaded:u.value},{header:(0,t.w5)((()=>[da])),_:1},8,["columns","rows","loaded"]))}},ma=ca,pa=ma,wa={class:"row"},va={class:"col"},ya={class:"row"},ga={class:"col q-gutter-md"},fa={class:"row"},ba={class:"col q-gutter-md"},ha={class:"row q-gutter-x-md"},_a={class:"col q-ml-none holder"},Ua={class:"col holder"},ka={class:"col holder"},Va={class:"row last-footer"},Za={class:"col holder"},Sa={__name:"Index",emits:["openRightDrawerWith"],setup(e,{emit:a}){function l(){a("openRightDrawerWith",ce)}return(e,a)=>{const n=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)("div",wa,[(0,t._)("div",va,[(0,t._)("div",ya,[(0,t._)("div",ga,[(0,t.Wm)(Ne,{title:"Despesas"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{outline:"",color:"secondary",icon:"file_open",label:"Ver Resumo",onClick:l})])),_:1})])]),(0,t._)("div",fa,[(0,t._)("div",ba,[(0,t._)("div",ha,[(0,t._)("div",_a,[(0,t.Wm)(N)]),(0,t._)("div",Ua,[(0,t.Wm)(pa)]),(0,t._)("div",ka,[(0,t.Wm)(be)])]),(0,t._)("div",Va,[(0,t._)("div",Za,[(0,t.Wm)(Be)])])])])])])}}},Da=(0,x.Z)(Sa,[["__scopeId","data-v-2429a5c5"]]),xa=Da;I()(Sa,"components",{QBtn:Te.Z})}}]);