"use strict";(globalThis["webpackChunkebisu_web"]=globalThis["webpackChunkebisu_web"]||[]).push([[603],{7603:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Pl});var t=a(3673),n=a(1959);a(71);const o={Date:"date",Enum:"enum",Amount:"amount",Bool:"bool",Any:"any"};class s{constructor({name:e,label:l="",align:a=w.Center,required:t=!0,sortable:n=!1,type:s=o.Any,filterable:r=!0}){this.name=e,this.field=this.setFieldGetter,this.label=l,this.required=t,this.align=a,this.sortable=n,this.type=s,this.filterable=r}setFieldGetter(e){return e.getValueForKey(this.name)}}class r{constructor(e,l){this.name=e,this.value=l}}class u{constructor(e){const l={};e.forEach((e=>l[e.key]=e)),this.values=l}getValueForKey(e){var l,a;return null!==(l=null===(a=this.values[e])||void 0===a?void 0:a.value)&&void 0!==l?l:""}get(e){return this.values[e]}}class i{constructor({key:e,value:l="",color:a="#000",weight:t,size:n}){this.value=l,this.key=e,this.color="object"===typeof a?`rgb(${a.red}, ${a.green}, ${a.blue})`:a,this.weight=t,this.size=n}}class d extends i{constructor(e){super({key:"actions",value:e}),this.actions=e}}class c{constructor(e,l,a,t){this.color=e,this.icon=l,this.tooltip=a,this.action=t}}class m{constructor(e,l){this.colspan=e,this.value=l}}const p={Horizontal:"horizontal",Vertical:"vertical",Cell:"cell",None:"none"},w={Left:"left",Right:"right",Center:"center"};var v=a(2323);function y(e,l){return[...Array(l).keys()]}const f={key:0},g=["colspan"],b={key:1},h=["colspan"],_={key:2},k={class:"text-center vertical-header"},U={class:"text-center"},V={class:"text-center vertical-header"},Z={class:"text-center"},S={key:2},D=["colspan"],q={__name:"ETable",props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},hasHeader:{type:Boolean,default:!1},subHeaders:{type:Array,default:()=>[]},vertical:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},noColumns:{type:Boolean,default:!1},columnRows:{type:Array,default:()=>[]},separator:{type:String,default:()=>p.Horizontal},footer:{type:Boolean,default:!1},loaded:{type:Boolean,default:!0},loadingQuantity:{type:Number,default:5}},setup(e){return(l,a)=>{const o=(0,t.up)("q-skeleton"),s=(0,t.up)("q-markup-table");return(0,t.wg)(),(0,t.j4)(s,{separator:e.separator,flat:e.flat},{default:(0,t.w5)((()=>[(0,t._)("thead",null,[e.hasHeader?((0,t.wg)(),(0,t.iD)("tr",f,[(0,t._)("th",{colspan:e.vertical?2:e.columns.length},[(0,t.WI)(l.$slots,"header")],8,g)])):(0,t.kq)("",!0),e.subHeaders.length>0?((0,t.wg)(),(0,t.iD)("tr",b,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.subHeaders,((e,l)=>((0,t.wg)(),(0,t.iD)("th",{class:"upper-border",colspan:e.colspan,key:`sh-${l}`},(0,v.zw)(e.value),9,h)))),128))])):(0,t.kq)("",!0),e.vertical||e.noColumns?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("tr",_,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,l)=>((0,t.wg)(),(0,t.iD)("th",{key:`c-${l}`,class:(0,v.C_)(0===l?"text-left":"text-right")},(0,v.zw)(e.label),3)))),128))]))]),(0,t._)("tbody",null,[e.loaded?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[e.vertical?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(e.columnRows,((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:`crv-${a}`,class:(0,v.C_)(a===e.columnRows.length-1?"last":"")},[(0,t._)("td",k,(0,v.zw)(l.name),1),(0,t._)("td",U,(0,v.zw)(l.value),1)],2)))),128)):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(e.rows,((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:`r-${a}`},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,a)=>{var n,o,s,r,u;return(0,t.wg)(),(0,t.iD)("td",{style:(0,v.j5)(`color:${null===(n=l.get(e.name))||void 0===n?void 0:n.color}; ${null!==(o=l.get(e.name))&&void 0!==o&&o.size?`font-size:${null===(s=l.get(e.name))||void 0===s?void 0:s.size}`:""}; ${null!==(r=l.get(e.name))&&void 0!==r&&r.weight?`font-weight:${null===(u=l.get(e.name))||void 0===u?void 0:u.weight}`:""}`),key:`cr-${a}`,class:(0,v.C_)(0===a?"text-left":"text-right")},(0,v.zw)(l.getValueForKey(e.name)),7)})),128))])))),128))],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[e.vertical?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)((0,n.SU)(y)(0,e.loadingQuantity),((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:`vlr-${a}`,class:(0,v.C_)(a===e.columnRows.length-1?"last":"")},[(0,t._)("td",V,[(0,t.Wm)(o,{type:"text"})]),(0,t._)("td",Z,[(0,t.Wm)(o,{type:"text"})])],2)))),128)):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)((0,n.SU)(y)(0,e.loadingQuantity),((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:`r-${a}`},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,l)=>((0,t.wg)(),(0,t.iD)("td",{key:`crl-${l}`,class:(0,v.C_)(0===l?"text-left":"text-right")},[(0,t.Wm)(o,{type:"text"})],2)))),128))])))),128))],64)),e.footer?((0,t.wg)(),(0,t.iD)("tr",S,[(0,t._)("th",{colspan:e.vertical?2:e.columns.length,style:{"padding-top":"0"}},[(0,t.WI)(l.$slots,"footer")],8,D)])):(0,t.kq)("",!0)])])),_:3},8,["separator","flat"])}}};var W=a(4260),x=a(481),Q=a(4103),z=a(7518),I=a.n(z);const B=(0,W.Z)(q,[["__scopeId","data-v-1f7189e8"]]),C=B;I()(q,"components",{QMarkupTable:x.Z,QSkeleton:Q.ZP});var A=a(6555),H=a(8825),R=a(166);const $=(0,t.Uk)(" Entradas "),T={__name:"IncomeTable",setup(e){const l=(0,H.Z)();let a=[new s({name:"name",label:"Nome"}),new s({name:"amount",label:"Valor"}),new s({name:"origin",label:"Origem"})],o=(0,n.iH)([]),r=(0,n.iH)(!1);(0,t.bv)((async()=>{try{r.value=!1,o.value=await A.d4.getIncomes(),r.value=!0}catch(e){console.log(e),r.value=!0,l.notify(new R.lt("Não foi possivel buscar entradas. Tente novamente mais tarde!"))}}));let d=(0,t.Fl)((()=>o.value.map((e=>new u([new i({key:"name",value:e.name}),new i({key:"amount",value:e.amount.toReal()}),new i({key:"origin",value:e.origin.name})])))));return(e,l)=>((0,t.wg)(),(0,t.j4)(C,{columns:(0,n.SU)(a),rows:(0,n.SU)(d),"has-header":!0,loaded:(0,n.SU)(r)},{header:(0,t.w5)((()=>[$])),_:1},8,["columns","rows","loaded"]))}},j=T,P=j;a(7596);const E={class:"modal-header"},F={class:"inner-section"},N={__name:"DrawerModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e){return(l,a)=>{const n=(0,t.up)("q-drawer");return(0,t.wg)(),(0,t.j4)(n,{"model-value":e.modelValue,"onUpdate:modelValue":a[0]||(a[0]=e=>l.$emit("input",e.target.value)),bordered:"",class:"bg-grey-1 drawer-modal",side:"right"},{default:(0,t.w5)((()=>[(0,t._)("div",E,(0,v.zw)(e.title),1),(0,t._)("div",F,[(0,t.WI)(l.$slots,"default")])])),_:3},8,["model-value"])}}};var Y=a(2428);const L=(0,W.Z)(N,[["__scopeId","data-v-644d3626"]]),K=L;I()(N,"components",{QDrawer:Y.Z});var M=a(8290),G=a(919),O=a(8276),J=a(1759),X=a(1427),ee=a(5695),le=a(6864),ae=a(8334),te=a(5837),ne=a(3118),oe=a(5474);const se=new O.Z(new J.Z,oe.ebisuClient),re=new X.Z(new ee.Z,oe.ebisuClient),ue=new te.Z(new ne.Z,oe.ebisuClient),ie=(new M.Z,new G.Z(se),new le.Z(re)),de=(new ae.Z(ue),{__name:"SummaryTable",props:{modelValue:{type:Boolean,default:!1}},setup(e){const l=e,a=(0,H.Z)();(0,t.m0)((()=>{l.modelValue&&setTimeout((()=>u()),500)}));const o=(0,n.iH)(null),s=(0,n.iH)(!1);async function u(){try{s.value=!1,o.value=await ie.getDebitSummary(),s.value=!0}catch(e){console.log(e),s.value=!0,a.notify(new R.lt("Não foi possivel buscar resumo de credito. Tente novamente mais tarde!"))}}let i=(0,t.Fl)((()=>null==o.value?[]:[new r("Valor Liquido Atual",o.value.currentNetAmount.toReal()),new r("Valor à Pagar",o.value.amountToPay.toReal()),new r("Valor Pago",o.value.payedAmount.toReal()),new r("Valor Total",o.value.totalAmount.toReal()),new r("Valor Restante",o.value.currentAmount.toReal()),new r("Valor Previsto",o.value.forecastAmount.toReal())]));return(l,a)=>((0,t.wg)(),(0,t.j4)(K,{"model-value":e.modelValue,title:"Resumo","onUpdate:modelValue":a[0]||(a[0]=e=>l.$emit("input",e.target.value))},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{"column-rows":(0,n.SU)(i),vertical:"",flat:"",loaded:s.value},null,8,["column-rows","loaded"])])),_:1},8,["model-value"]))}}),ce=de,me=ce;var pe=a(2270),we=(a(1524),a(9135)),ve=a(3088);const ye=(0,t.Uk)(" Divisão "),fe={__name:"UserBalanceTable",setup(e){const l=[new m(2,"A Pagar"),new m(2,"A Receber")],a=(0,H.Z)(),o=(0,n.qj)({isLoadingUsers:!0,users:[],selectedUser:null,userBalance:null,expenses:[]});async function r(){try{o.isLoadingUsers=!0,o.users=(await A.W4.getFriends()).map((e=>({label:e.name,value:e.id}))),o.isLoadingUsers=!1}catch(e){console.log(e),o.isLoadingUsers=!1,a.notify(new R.lt("Não foi possivel buscar usuarios. Tente novamente mais tarde!"))}}async function d(e){try{o.expenses=[],o.userBalance=await A.W4.getUserFriendBalance(e),w()}catch(l){console.log(l),a.notify(new R.lt("Buscar balanço de usuario. Tente novamente mais tarde!"))}}(0,t.bv)((async()=>{var e;await r(),o.selectedUser=null!==(e=o.users[0])&&void 0!==e?e:null})),(0,t.m0)((()=>{o.selectedUser&&d(o.selectedUser.value)}));let c=[new s({name:"userExpenseName"}),new s({name:"userExpenseValue"}),new s({name:"destinyExpenseValue"}),new s({name:"destinyExpenseName"})];function w(){if(o.userBalance){let p=[],w=o.userBalance.userBeneficiaryExpenses,v=o.userBalance.friendBeneficiaryExpenses,f=v.length>w.length?v.length:w.length;for(let o in y(0,f)){var e,l,a,t,n,s,r,d,c,m;p.push(new u([new i({key:"userExpenseName",value:null!==(e=null===(l=v[o])||void 0===l?void 0:l.name)&&void 0!==e?e:""}),new i({key:"userExpenseValue",value:null!==(a=null===(t=v[o])||void 0===t||null===(n=t.amount)||void 0===n?void 0:n.toReal())&&void 0!==a?a:""}),new i({key:"destinyExpenseName",value:null!==(s=null===(r=w[o])||void 0===r?void 0:r.name)&&void 0!==s?s:""}),new i({key:"destinyExpenseValue",value:null!==(d=null===(c=w[o])||void 0===c||null===(m=c.amount)||void 0===m?void 0:m.toReal())&&void 0!==d?d:""})]))}o.expenses=p}}let f=(0,t.Fl)((()=>o.userBalance?o.userBalance.balanceTotalAmount:new pe.Z(0))),g=(0,t.Fl)((()=>ve.x.when(f.value.field(),[new ve.E(pe.f.Positive,"Receber de "),new ve.E(pe.f.Negative,"Enviar para "),new ve.E(pe.f.Zero,"Não realizar operação com")])));const b=(0,t.Fl)((()=>({positive:f.value.field()==pe.f.Positive,negative:f.value.field()==pe.f.Negative,zero:f.value.field()==pe.f.Zero})));return(e,a)=>{const s=(0,t.up)("q-skeleton"),r=(0,t.up)("q-select");return(0,t.wg)(),(0,t.j4)(C,{"has-header":"",rows:o.expenses,footer:"",separator:(0,n.SU)(p).Vertical,columns:(0,n.SU)(c),"no-columns":"","sub-headers":l},{header:(0,t.w5)((()=>[ye,o.isLoadingUsers?((0,t.wg)(),(0,t.j4)(s,{key:0,type:"QInput"})):((0,t.wg)(),(0,t.j4)(r,{key:1,square:"",outlined:"",modelValue:o.selectedUser,"onUpdate:modelValue":a[0]||(a[0]=e=>o.selectedUser=e),options:o.users,label:"Usuario"},null,8,["modelValue","options"]))])),footer:(0,t.w5)((()=>[null!=o.selectedUser&&o.expenses.length>0?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,v.C_)((0,n.SU)(b)),id:"balance"},(0,v.zw)((0,n.SU)(g))+" "+(0,v.zw)(o.selectedUser.label.split(" ")[0])+": "+(0,v.zw)((0,n.SU)(f).toReal(!1)),3)):(0,t.kq)("",!0)])),_:1},8,["rows","separator","columns"])}}};var ge=a(3017);const be=(0,W.Z)(fe,[["__scopeId","data-v-a1ab3098"]]),he=be;function _e(e,l){const a=(0,t.up)("q-tooltip");return(0,t.wg)(),(0,t.j4)(a,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"default")])),_:3})}I()(fe,"components",{QSkeleton:Q.ZP,QSelect:ge.Z});var ke=a(8870);const Ue={},Ve=(0,W.Z)(Ue,[["render",_e]]),Ze=Ve;I()(Ue,"components",{QTooltip:ke.Z});var Se=a(9405);const De={__name:"AnyFilter",props:{column:{type:String}},emits:["filter"],setup(e,{emit:l}){const a=e,s=(0,n.iH)(null);return(0,t.YP)(s,(0,Se.Z)((function(){l("filter",{column:a.column,value:s.value,type:o.Any})}),500)),(e,l)=>{const a=(0,t.up)("q-input");return(0,t.wg)(),(0,t.j4)(a,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),dense:"",autofocus:""},null,8,["modelValue"])}}};var qe=a(4842);const We=De,xe=We;I()(De,"components",{QInput:qe.Z});const Qe={__name:"TableFilter",props:{type:{type:String,default:()=>o.Any}},setup(e){return(l,a)=>e.type===(0,n.SU)(o).Any?((0,t.wg)(),(0,t.j4)(xe,{key:0,onFilter:a[0]||(a[0]=e=>l.$emit("filter",e))})):(0,t.kq)("",!0)}},ze=Qe,Ie=ze,Be=(0,t.Uk)(" Ativo "),Ce=(0,t.Uk)("Reset"),Ae={__name:"DataTable",props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},separator:{type:String,default:()=>p.Horizontal},title:{type:String},loading:{type:Boolean,default:!1}},setup(e){const l=e;function a(e){if(e)return{sortBy:void 0,descending:!0,page:1,rowsPerPage:50}}const o=a(l.columns),s=(0,n.iH)(l.rows);(0,t.m0)((()=>s.value=l.rows));const r=(0,n.iH)({}),u={any:function(e,l){return-1!=String(e).toLowerCase().indexOf(l.toLowerCase())}};function i(e){r.value[e.column]=!0,s.value=l.rows.filter((l=>{const a=l.get(e.column);if(a){const l=u[e.type];return!l||l(a.value,e.value)}return!1}))}function d(e){r.value={},s.value=l.rows}return(l,a)=>{const u=(0,t.up)("q-badge"),c=(0,t.up)("q-btn"),m=(0,t.up)("q-popup-edit"),p=(0,t.up)("q-th"),w=(0,t.up)("q-tr"),y=(0,t.up)("q-td"),f=(0,t.up)("q-icon"),g=(0,t.up)("q-table");return(0,t.wg)(),(0,t.j4)(g,{class:"ebisu-table",columns:e.columns,rows:s.value,title:e.title,separator:e.separator,pagination:(0,n.SU)(o),loading:e.loading},{header:(0,t.w5)((e=>[(0,t.Wm)(w,{props:e},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cols,(l=>((0,t.wg)(),(0,t.j4)(p,{key:l.name,props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,v.zw)(l.label)+" ",1),r.value[l.name]?((0,t.wg)(),(0,t.j4)(u,{key:0,color:"red"},{default:(0,t.w5)((()=>[Be])),_:1})):(0,t.kq)("",!0),l.filterable?((0,t.wg)(),(0,t.j4)(m,{key:1,modelValue:l.label,"onUpdate:modelValue":e=>l.label=e,title:`Filtrar ${l.label}`,cover:!1,anchor:"top right"},{default:(0,t.w5)((()=>[(0,t.Wm)(Ie,{type:l.type,column:l.name,onFilter:i},null,8,["type","column"]),(0,t.Wm)(c,{flat:"",class:"q-mt-sm full-width",onClick:e=>d(l)},{default:(0,t.w5)((()=>[Ce])),_:2},1032,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue","title"])):(0,t.kq)("",!0)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),"body-cell-card":(0,t.w5)((e=>[(0,t.Wm)(y,{props:e,class:"asd"},{default:(0,t.w5)((()=>{var l;return[(0,t._)("span",{style:(0,v.j5)(`color: ${null===(l=e.row.get(e.col.name))||void 0===l?void 0:l.color}`)},(0,v.zw)(e.value),5)]})),_:2},1032,["props"])])),"body-cell-actions":(0,t.w5)((e=>[(0,t.Wm)(y,{props:e,class:"action-field"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.value,((e,l)=>((0,t.wg)(),(0,t.j4)(f,{key:`tab-${l}`,onClick:e.action,round:"",color:e.color,size:"sm",name:e.icon},{default:(0,t.w5)((()=>[(0,t.Wm)(Ze,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,v.zw)(e.tooltip),1)])),_:2},1024)])),_:2},1032,["onClick","color","name"])))),128))])),_:2},1032,["props"])])),_:1},8,["columns","rows","title","separator","pagination","loading"])}}};var He=a(2468),Re=a(8186),$e=a(2414),Te=a(9721),je=a(4522),Pe=a(4607),Ee=a(3884),Fe=a(4554);const Ne=Ae,Ye=Ne;I()(Ae,"components",{QTable:He.Z,QTr:Re.Z,QTh:$e.Z,QBadge:Te.Z,QPopupEdit:je.Z,QBtn:Pe.Z,QTd:Ee.Z,QIcon:Fe.Z});const Le={__name:"ExpenseTable",setup(e){const l=(0,H.Z)(),a=(0,n.iH)(!1),o=(0,n.iH)([]);async function r(){try{a.value=!0,o.value=await A.LZ.getCurrentExpenses(),a.value=!1}catch(e){console.log(e),a.value=!1,l.notify(new R.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}(0,t.bv)((async()=>{await r()}));let m=[new s({name:"name",label:"Nome",align:w.Left}),new s({name:"amount",label:"Valor"}),new s({name:"date",label:"Data"}),new s({name:"payed",label:"Pago"}),new s({name:"card",label:"Cartão"}),new s({name:"beneficiary",label:"Beneficiario"}),new s({name:"installments",label:"Parcelamento"}),new s({name:"actions",label:"Ações",filterable:!1})],p=(0,t.Fl)((()=>o.value.map((e=>{var l,a,t,n,o,s,r;return new u([new i({key:"name",value:e.name}),new i({key:"amount",value:e.amount.toReal()}),new i({key:"date",value:e.date.display()}),new i({key:"payed",value:e.payed?"Sim":"Não"}),new i({key:"card",value:null!==(l=null===(a=e.card)||void 0===a?void 0:a.name)&&void 0!==l?l:"N/A",color:null===(t=e.card)||void 0===t?void 0:t.color}),new i({key:"beneficiary",value:null!==(n=null===(o=e.beneficiary)||void 0===o?void 0:o.name)&&void 0!==n?n:"N/A"}),new i({key:"installments",value:null!==(s=null===(r=e.installmentInformation)||void 0===r?void 0:r.display())&&void 0!==s?s:"N/A"}),new d([new c("positive","check","Pagar",(()=>v(e.id))),new c("negative","close","Deletar",(()=>y(e.id)))])])}))));async function v(e){try{const a=l.notify(new R.BT),t=await A.LZ.pay(e);a(),l.notify(new R.Ur(t)),r()}catch(a){console.log(a),l.notify(new R.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}async function y(e){try{const a=l.notify(new R.BT),t=await A.LZ["delete"](e);a(),l.notify(new R.Ur(t)),r()}catch(a){console.log(a),l.notify(new R.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}return(e,l)=>((0,t.wg)(),(0,t.j4)(Ye,{columns:(0,n.SU)(m),rows:(0,n.SU)(p),title:"Despesas",loading:a.value},null,8,["columns","rows","loading"]))}},Ke=Le,Me=Ke;var Ge=a(7035);const Oe={class:"title"},Je={class:"actions"},Xe={__name:"PageHeader",props:{title:{type:String,default:""},bordered:{type:Boolean,default:!1}},setup(e){return(l,a)=>((0,t.wg)(),(0,t.j4)(Ge.Z,{class:"q-mb-md page-header",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t._)("div",Oe,(0,v.zw)(e.title),1),(0,t._)("div",Je,[(0,t.WI)(l.$slots,"default")])])),_:3}))}};var el=a(151);const ll=Xe,al=ll;I()(Xe,"components",{QCard:el.Z,QBtn:Pe.Z});const tl={class:"form-header"},nl={class:"form-section"},ol={__name:"DrawerForm",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e){return(l,a)=>{const n=(0,t.up)("q-drawer");return(0,t.wg)(),(0,t.j4)(n,{"model-value":e.modelValue,"onUpdate:modelValue":a[0]||(a[0]=e=>l.$emit("input",e.target.value)),bordered:"",class:"bg-grey-1 form-drawer",side:"right"},{default:(0,t.w5)((()=>[(0,t._)("div",tl,(0,v.zw)(e.title),1),(0,t._)("div",nl,[(0,t.WI)(l.$slots,"default")])])),_:3},8,["model-value"])}}};var sl=a(6115);const rl=(0,W.Z)(ol,[["__scopeId","data-v-02f223de"]]),ul=rl;I()(ol,"components",{QDrawer:Y.Z,QField:sl.Z});var il=a(8554),dl=a(6755);class cl{constructor(e,l){this.id=e,this.name=l}}const ml={class:"row items-center justify-end"},pl={class:"flex justify-around"},wl={key:0},vl={__name:"DebitExpenseForm",props:{modelValue:{type:Boolean,default:!1}},setup(e){let l=(0,n.qj)(new we.Jb(we.uG.Debit)),a={name:[e=>e&&e.length>0||"O nome da despesa é obrigatório"],amount:[e=>e&&pe.Z.format(e)>0||"O valor da despesa deve ser maior que 0"],currentInstallment:[e=>e&&pe.Z.format(e)>1||"Despesas recorrentes devem ter pelo menos 2 parcelas"]},o=[new dl.Z("2","Wendy Artiaga"),new dl.Z("3","Maria Aparecida"),new dl.Z("4","Tatielle Fernandes")],s=[new cl("2","Nubank"),new cl("3","Picpay"),new cl("4","Direcional")],r=o.map((e=>({label:e.name,value:`U-${e.id}`,type:il.Z.User}))).concat(s.map((e=>({label:e.name,value:`E-${e.id}`,type:il.Z.Establishment}))));return(o,s)=>{const u=(0,t.up)("q-input"),i=(0,t.up)("q-btn"),d=(0,t.up)("q-date"),c=(0,t.up)("q-popup-proxy"),m=(0,t.up)("q-icon"),p=(0,t.up)("q-item-label"),w=(0,t.up)("q-item-section"),y=(0,t.up)("q-item"),f=(0,t.up)("q-select"),g=(0,t.up)("q-checkbox"),b=(0,t.up)("q-form"),h=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(ul,{"model-value":e.modelValue,title:"Criar Despesa","onUpdate:modelValue":s[9]||(s[9]=e=>o.$emit("input",e.target.value))},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{onSubmit:o.onSubmit,onReset:o.onReset,class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:(0,n.SU)(l).name,"onUpdate:modelValue":s[0]||(s[0]=e=>(0,n.SU)(l).name=e),label:"Nome","lazy-rules":"",rules:(0,n.SU)(a).name},null,8,["modelValue","rules"]),(0,t.Wm)(u,{modelValue:(0,n.SU)(l).amount,"onUpdate:modelValue":s[1]||(s[1]=e=>(0,n.SU)(l).amount=e),label:"Valor",mask:"##.###,##","reverse-fill-mask":"","lazy-rules":"",rules:(0,n.SU)(a).amount},null,8,["modelValue","rules"]),(0,t.Wm)(u,{modelValue:(0,n.SU)(l).date,"onUpdate:modelValue":s[3]||(s[3]=e=>(0,n.SU)(l).date=e),mask:"##/##/####",label:"Data","lazy-rules":""},{append:(0,t.w5)((()=>[(0,t.Wm)(m,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{modelValue:(0,n.SU)(l).date,"onUpdate:modelValue":s[2]||(s[2]=e=>(0,n.SU)(l).date=e),mask:"DD/MM/YYYY"},{default:(0,t.w5)((()=>[(0,t._)("div",ml,[(0,t.wy)((0,t.Wm)(i,{label:"Close",color:"primary",flat:""},null,512),[[h]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(f,{class:"destiny-select",modelValue:(0,n.SU)(l).destiny,"onUpdate:modelValue":s[4]||(s[4]=e=>(0,n.SU)(l).destiny=e),options:(0,n.SU)(r),label:"Destino"},{option:(0,t.w5)((e=>[(0,t.Wm)(y,(0,v.vs)((0,t.F4)(e.itemProps)),{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,v.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(p,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,v.zw)(e.opt.type==(0,n.SU)(il.Z).User?"Usuario":"Estabelecimento"),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,t._)("div",pl,[(0,t.Wm)(g,{modelValue:(0,n.SU)(l).isPayed,"onUpdate:modelValue":s[5]||(s[5]=e=>(0,n.SU)(l).isPayed=e),label:"Pago"},null,8,["modelValue"]),(0,t.Wm)(g,{modelValue:(0,n.SU)(l).hasInstallments,"onUpdate:modelValue":s[6]||(s[6]=e=>(0,n.SU)(l).hasInstallments=e),label:"Recorrente"},null,8,["modelValue"])]),(0,n.SU)(l).hasInstallments?((0,t.wg)(),(0,t.iD)("div",wl,[(0,t.Wm)(u,{modelValue:(0,n.SU)(l).installmentsInformation.currentInstallment,"onUpdate:modelValue":s[7]||(s[7]=e=>(0,n.SU)(l).installmentsInformation.currentInstallment=e),label:"Parcela Atual",mask:"###","lazy-rules":"",rules:(0,n.SU)(a).clearable},null,8,["modelValue","rules"]),(0,t.Wm)(u,{modelValue:(0,n.SU)(l).installmentsInformation.maxInstallments,"onUpdate:modelValue":s[8]||(s[8]=e=>(0,n.SU)(l).installmentsInformation.maxInstallments=e),label:"Ultima Parcela",mask:"###","lazy-rules":"",clearable:""},null,8,["modelValue"])])):(0,t.kq)("",!0),(0,t._)("div",null,[(0,t.Wm)(i,{class:"full-width",label:"Adicionar",color:"primary"})])])),_:1},8,["onSubmit","onReset"])])),_:1},8,["model-value"])}}};var yl=a(5269),fl=a(3944),gl=a(643),bl=a(3414),hl=a(2035),_l=a(2350),kl=a(1420),Ul=a(677);I()(vl,"components",{QForm:yl.Z,QInput:qe.Z,QIcon:Fe.Z,QPopupProxy:fl.Z,QDate:gl.Z,QBtn:Pe.Z,QSelect:ge.Z,QItem:bl.Z,QItemSection:hl.Z,QItemLabel:_l.Z,QCheckbox:kl.Z}),I()(vl,"directives",{ClosePopup:Ul.Z});a(5297);const Vl=(0,t.Uk)(" Resumo Compras "),Zl={__name:"CreditSummary",setup(e){const l=(0,H.Z)();let a=[new s({name:"card",label:"Cartão"}),new s({name:"spent",label:"Gasto"}),new s({name:"planned",label:"Planejado"}),new s({name:"difference",label:"Diferença"})];const o=(0,n.iH)([]),r=(0,n.iH)(!1);(0,t.bv)((async()=>{try{r.value=!1,o.value=await A.sM.getCreditSummary(),r.value=!0}catch(e){r.value=!0,l.notify(new R.lt("Não foi possivel buscar resumo de credito. Tente novamente mais tarde!"))}}));let d=(0,t.Fl)((()=>o.value.map((e=>new u([new i({key:"card",value:e.card.name,color:e.card.color,size:"1rem",weight:600}),new i({key:"spent",value:e.spent.toReal()}),new i({key:"planned",value:e.planned.toReal()}),new i({key:"difference",value:e.difference.toReal(),color:e.difference.color,size:"1rem",weight:600})])))));return(e,l)=>((0,t.wg)(),(0,t.j4)(C,{columns:(0,n.SU)(a),rows:(0,n.SU)(d),"has-header":"",loaded:r.value},{header:(0,t.w5)((()=>[Vl])),_:1},8,["columns","rows","loaded"]))}},Sl=Zl,Dl=Sl,ql={class:"row"},Wl={class:"col"},xl={class:"row"},Ql={class:"col q-gutter-md"},zl={class:"row"},Il={class:"col q-gutter-md"},Bl={class:"row q-gutter-x-md"},Cl={class:"col q-ml-none holder"},Al={class:"col holder"},Hl={class:"col holder"},Rl={class:"row last-footer"},$l={class:"col holder"},Tl={__name:"Index",emits:["openRightDrawerWith"],setup(e,{emit:l}){function a(){l("openRightDrawerWith",me)}return(e,l)=>{const n=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)("div",ql,[(0,t._)("div",Wl,[(0,t._)("div",xl,[(0,t._)("div",Ql,[(0,t.Wm)(al,{title:"Despesas"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{outline:"",color:"secondary",icon:"file_open",label:"Ver Resumo",onClick:a})])),_:1})])]),(0,t._)("div",zl,[(0,t._)("div",Il,[(0,t._)("div",Bl,[(0,t._)("div",Cl,[(0,t.Wm)(P)]),(0,t._)("div",Al,[(0,t.Wm)(Dl)]),(0,t._)("div",Hl,[(0,t.Wm)(he)])]),(0,t._)("div",Rl,[(0,t._)("div",$l,[(0,t.Wm)(Me)])])])])])])}}},jl=(0,W.Z)(Tl,[["__scopeId","data-v-2429a5c5"]]),Pl=jl;I()(Tl,"components",{QBtn:Pe.Z})}}]);