"use strict";(globalThis["webpackChunkebisu_web"]=globalThis["webpackChunkebisu_web"]||[]).push([[974],{4974:(e,l,a)=>{a.r(l),a.d(l,{default:()=>El});var t=a(3673),n=a(1959),o=a(2507),s=a(2323);a(71);function r(e,l){return[...Array(l).keys()]}const u={key:0},i=["colspan"],d={key:1},m=["colspan"],c={key:2},p={class:"text-center vertical-header"},w={class:"text-center"},v=["onClick"],g=["onClick"],y={class:"text-center vertical-header"},f={class:"text-center"},b=["onClick"],h={key:2},_=["colspan"],U={__name:"ETable",props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},hasHeader:{type:Boolean,default:!1},subHeaders:{type:Array,default:()=>[]},vertical:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},noColumns:{type:Boolean,default:!1},columnRows:{type:Array,default:()=>[]},separator:{type:String,default:()=>o.Pi.Horizontal},footer:{type:Boolean,default:!1},loaded:{type:Boolean,default:!0},loadingQuantity:{type:Number,default:5},shouldHighlight:{type:Boolean,default:!1}},setup(e){const l=e,a=(0,t.Fl)((()=>({"cursor-pointer":l.shouldHighlight}))),o=function(e){e.toggleHighlight()};return(l,U)=>{const k=(0,t.up)("q-skeleton"),V=(0,t.up)("q-markup-table");return(0,t.wg)(),(0,t.j4)(V,{separator:e.separator,flat:e.flat},{default:(0,t.w5)((()=>[(0,t._)("thead",null,[e.hasHeader?((0,t.wg)(),(0,t.iD)("tr",u,[(0,t._)("th",{colspan:e.vertical?2:e.columns.length},[(0,t.WI)(l.$slots,"header")],8,i)])):(0,t.kq)("",!0),e.subHeaders.length>0?((0,t.wg)(),(0,t.iD)("tr",d,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.subHeaders,((e,l)=>((0,t.wg)(),(0,t.iD)("th",{class:"upper-border",colspan:e.colspan,key:`sh-${l}`},(0,s.zw)(e.value),9,m)))),128))])):(0,t.kq)("",!0),e.vertical||e.noColumns?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("tr",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,l)=>((0,t.wg)(),(0,t.iD)("th",{key:`c-${l}`,class:(0,s.C_)(0===l?"text-left":"text-right")},(0,s.zw)(e.label),3)))),128))]))]),(0,t._)("tbody",null,[e.loaded?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[e.vertical?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(e.columnRows,((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:`crv-${a}`,class:(0,s.C_)(a===e.columnRows.length-1?"last":"")},[(0,t._)("td",p,(0,s.zw)(l.name),1),(0,t._)("td",w,(0,s.zw)(l.value),1)],2)))),128)):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(e.rows,((l,r)=>((0,t.wg)(),(0,t.iD)("tr",{key:`r-${r}`,class:(0,s.C_)([(0,n.SU)(a),l.isHighlighted?"highlight":""]),onClick:e=>o(l)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,a)=>{var n,o,r,u,i;return(0,t.wg)(),(0,t.iD)("td",{style:(0,s.j5)(`color:${null===(n=l.get(e.name))||void 0===n?void 0:n.color}; ${null!==(o=l.get(e.name))&&void 0!==o&&o.size?`font-size:${null===(r=l.get(e.name))||void 0===r?void 0:r.size}`:""}; ${null!==(u=l.get(e.name))&&void 0!==u&&u.weight?`font-weight:${null===(i=l.get(e.name))||void 0===i?void 0:i.weight}`:""}`),key:`cr-${a}`,class:(0,s.C_)(0===a?"text-left":"text-right")},(0,s.zw)(l.getValueForKey(e.name)),7)})),128))],10,v)))),128))],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[e.vertical?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)((0,n.SU)(r)(0,e.loadingQuantity),((l,r)=>((0,t.wg)(),(0,t.iD)("tr",{key:`vlr-${r}`,class:(0,s.C_)([r===e.columnRows.length-1?"last":"",(0,n.SU)(a),l.isHighlighted?"highlight":""]),onClick:e=>o(l)},[(0,t._)("td",y,[(0,t.Wm)(k,{type:"text"})]),(0,t._)("td",f,[(0,t.Wm)(k,{type:"text"})])],10,g)))),128)):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)((0,n.SU)(r)(0,e.loadingQuantity),((l,r)=>((0,t.wg)(),(0,t.iD)("tr",{key:`r-${r}`,class:(0,s.C_)([(0,n.SU)(a),l.isHighlighted?"highlight":""]),onClick:e=>o(l)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.columns,((e,l)=>((0,t.wg)(),(0,t.iD)("td",{key:`crl-${l}`,class:(0,s.C_)(0===l?"text-left":"text-right")},[(0,t.Wm)(k,{type:"text"})],2)))),128))],10,b)))),128))],64)),e.footer?((0,t.wg)(),(0,t.iD)("tr",h,[(0,t._)("th",{colspan:e.vertical?2:e.columns.length,style:{"padding-top":"0"}},[(0,t.WI)(l.$slots,"footer")],8,_)])):(0,t.kq)("",!0)])])),_:3},8,["separator","flat"])}}};var k=a(4260),V=a(481),q=a(4103),S=a(7518),Z=a.n(S);const D=(0,k.Z)(U,[["__scopeId","data-v-b3ef91d8"]]),W=D;Z()(U,"components",{QMarkupTable:V.Z,QSkeleton:q.ZP});var Q=a(3961),x=a(8825),C=a(166);const H=(0,t.Uk)(" Entradas "),B={__name:"IncomeTable",setup(e){const l=(0,x.Z)();let a=[new o.sg({name:"name",label:"Nome"}),new o.sg({name:"amount",label:"Valor"}),new o.sg({name:"origin",label:"Origem"})],s=(0,n.iH)([]),r=(0,n.iH)(!1);(0,t.bv)((async()=>{try{r.value=!1,s.value=await Q.d4.getIncomes(),r.value=!0}catch(e){console.log(e),r.value=!0,l.notify(new C.lt("Não foi possivel buscar entradas. Tente novamente mais tarde!"))}}));let u=(0,t.Fl)((()=>s.value.map((e=>new o.X2([new o.qe({key:"name",value:e.name}),new o.qe({key:"amount",value:e.amount.toReal()}),new o.qe({key:"origin",value:e.origin.name})])))));return(e,l)=>((0,t.wg)(),(0,t.j4)(W,{columns:(0,n.SU)(a),rows:(0,n.SU)(u),"has-header":!0,loaded:(0,n.SU)(r)},{header:(0,t.w5)((()=>[H])),_:1},8,["columns","rows","loaded"]))}},z=B,I=z;a(7596);const P={class:"modal-header"},R={class:"inner-section"},j={__name:"DrawerModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e){return(l,a)=>{const n=(0,t.up)("q-drawer");return(0,t.wg)(),(0,t.j4)(n,{"model-value":e.modelValue,"onUpdate:modelValue":a[0]||(a[0]=e=>l.$emit("input",e.target.value)),bordered:"",class:"bg-grey-1 drawer-modal",side:"right"},{default:(0,t.w5)((()=>[(0,t._)("div",P,(0,s.zw)(e.title),1),(0,t._)("div",R,[(0,t.WI)(l.$slots,"default")])])),_:3},8,["model-value"])}}};var A=a(2428);const N=(0,k.Z)(j,[["__scopeId","data-v-644d3626"]]),$=N;Z()(j,"components",{QDrawer:A.Z});var T=a(8290),E=a(919),F=a(8276),Y=a(1759),L=a(1427),K=a(5695),M=a(6864),O=a(8334),X=a(5837),G=a(3118),J=a(5474);const ee=new F.Z(new Y.Z,J.ebisuClient),le=new L.Z(new K.Z,J.ebisuClient),ae=new X.Z(new G.Z,J.ebisuClient),te=(new T.Z,new E.Z(ee),new M.Z(le)),ne=(new O.Z(ae),{__name:"SummaryTable",props:{modelValue:{type:Boolean,default:!1}},setup(e){const l=e,a=(0,x.Z)();(0,t.m0)((()=>{l.modelValue&&setTimeout((()=>u()),500)}));const s=(0,n.iH)(null),r=(0,n.iH)(!1);async function u(){try{r.value=!1,s.value=await te.getDebitSummary(),r.value=!0}catch(e){console.log(e),r.value=!0,a.notify(new C.lt("Não foi possivel buscar resumo de credito. Tente novamente mais tarde!"))}}let i=(0,t.Fl)((()=>null==s.value?[]:[new o.zN("Valor Liquido Atual",s.value.currentNetAmount.toReal()),new o.zN("Valor à Pagar",s.value.amountToPay.toReal()),new o.zN("Valor Pago",s.value.payedAmount.toReal()),new o.zN("Valor Total",s.value.totalAmount.toReal()),new o.zN("Valor Restante",s.value.currentAmount.toReal()),new o.zN("Valor Previsto",s.value.forecastAmount.toReal())]));return(l,a)=>((0,t.wg)(),(0,t.j4)($,{"model-value":e.modelValue,title:"Resumo","onUpdate:modelValue":a[0]||(a[0]=e=>l.$emit("input",e.target.value))},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{"column-rows":(0,n.SU)(i),vertical:"",flat:"",loaded:r.value},null,8,["column-rows","loaded"])])),_:1},8,["model-value"]))}}),oe=ne,se=oe;var re=a(2270),ue=(a(1524),a(9135)),ie=a(3088);const de=(0,t.Uk)(" Divisão "),me={__name:"UserBalanceTable",setup(e){const l=[new o.bU(2,"A Pagar"),new o.bU(2,"A Receber")],a=(0,x.Z)(),u=(0,n.qj)({isLoadingUsers:!0,users:[],selectedUser:null,userBalance:null,expenses:[]});async function i(){try{u.isLoadingUsers=!0,u.users=(await Q.W4.getFriends()).map((e=>({label:e.name,value:e.id}))),u.isLoadingUsers=!1}catch(e){console.log(e),u.isLoadingUsers=!1,a.notify(new C.lt("Não foi possivel buscar usuarios. Tente novamente mais tarde!"))}}async function d(e){try{u.expenses=[],u.userBalance=await Q.W4.getUserFriendBalance(e),c()}catch(l){console.log(l),a.notify(new C.lt("Buscar balanço de usuario. Tente novamente mais tarde!"))}}(0,t.bv)((async()=>{var e;await i(),u.selectedUser=null!==(e=u.users[0])&&void 0!==e?e:null})),(0,t.m0)((()=>{u.selectedUser&&d(u.selectedUser.value)}));let m=[new o.sg({name:"userExpenseName"}),new o.sg({name:"userExpenseValue"}),new o.sg({name:"destinyExpenseValue"}),new o.sg({name:"destinyExpenseName"})];function c(){if(u.userBalance){let p=[],w=u.userBalance.userBeneficiaryExpenses,v=u.userBalance.friendBeneficiaryExpenses,g=v.length>w.length?v.length:w.length;for(let u in r(0,g)){var e,l,a,t,n,s,i,d,m,c;p.push(new o.X2([new o.qe({key:"userExpenseName",value:null!==(e=null===(l=v[u])||void 0===l?void 0:l.name)&&void 0!==e?e:""}),new o.qe({key:"userExpenseValue",value:null!==(a=null===(t=v[u])||void 0===t||null===(n=t.amount)||void 0===n?void 0:n.toReal())&&void 0!==a?a:""}),new o.qe({key:"destinyExpenseName",value:null!==(s=null===(i=w[u])||void 0===i?void 0:i.name)&&void 0!==s?s:""}),new o.qe({key:"destinyExpenseValue",value:null!==(d=null===(m=w[u])||void 0===m||null===(c=m.amount)||void 0===c?void 0:c.toReal())&&void 0!==d?d:""})]))}u.expenses=p}}let p=(0,t.Fl)((()=>u.userBalance?u.userBalance.balanceTotalAmount:new re.Z(0))),w=(0,t.Fl)((()=>ie.x.when(p.value.field(),[new ie.E(re.f.Positive,"Receber de "),new ie.E(re.f.Negative,"Enviar para "),new ie.E(re.f.Zero,"Não realizar operação com")])));const v=(0,t.Fl)((()=>({positive:p.value.field()==re.f.Positive,negative:p.value.field()==re.f.Negative,zero:p.value.field()==re.f.Zero})));return(e,a)=>{const r=(0,t.up)("q-skeleton"),i=(0,t.up)("q-select");return(0,t.wg)(),(0,t.j4)(W,{"has-header":"",rows:u.expenses,footer:"",separator:(0,n.SU)(o.Pi).Vertical,columns:(0,n.SU)(m),"no-columns":"","sub-headers":l,"should-highlight":""},{header:(0,t.w5)((()=>[de,u.isLoadingUsers?((0,t.wg)(),(0,t.j4)(r,{key:0,type:"QInput"})):((0,t.wg)(),(0,t.j4)(i,{key:1,square:"",outlined:"",modelValue:u.selectedUser,"onUpdate:modelValue":a[0]||(a[0]=e=>u.selectedUser=e),options:u.users,label:"Usuario"},null,8,["modelValue","options"]))])),footer:(0,t.w5)((()=>[null!=u.selectedUser&&u.expenses.length>0?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,s.C_)((0,n.SU)(v)),id:"balance"},(0,s.zw)((0,n.SU)(w))+" "+(0,s.zw)(u.selectedUser.label.split(" ")[0])+": "+(0,s.zw)((0,n.SU)(p).toReal(!1)),3)):(0,t.kq)("",!0)])),_:1},8,["rows","separator","columns"])}}};var ce=a(3017);const pe=(0,k.Z)(me,[["__scopeId","data-v-6b6bb41a"]]),we=pe;function ve(e,l){const a=(0,t.up)("q-tooltip");return(0,t.wg)(),(0,t.j4)(a,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"default")])),_:3})}Z()(me,"components",{QSkeleton:q.ZP,QSelect:ce.Z});var ge=a(8870);const ye={},fe=(0,k.Z)(ye,[["render",ve]]),be=fe;Z()(ye,"components",{QTooltip:ge.Z});var he=a(9405);const _e={__name:"AnyFilter",emits:["filter"],setup(e,{emit:l}){const a=(0,n.iH)(null);return(0,t.YP)(a,(0,he.Z)((function(){l("filter",{value:a.value,type:o.QD.Any})}),300)),(e,l)=>{const n=(0,t.up)("q-input");return(0,t.wg)(),(0,t.j4)(n,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),dense:"",autofocus:""},null,8,["modelValue"])}}};var Ue=a(4842);const ke=_e,Ve=ke;Z()(_e,"components",{QInput:Ue.Z});const qe={class:"q-gutter-xl"},Se={__name:"BooleanFilter",emits:["filter"],setup(e,{emit:l}){const a=(0,n.iH)(null);return(0,t.YP)(a,(()=>l("filter",{value:a.value,type:o.QD.Bool}))),(e,l)=>{const n=(0,t.up)("q-radio");return(0,t.wg)(),(0,t.iD)("div",qe,[(0,t.Wm)(n,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),dense:"",val:!0,label:"Sim"},null,8,["modelValue"]),(0,t.Wm)(n,{modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value=e),dense:"",val:!1,label:"Não"},null,8,["modelValue"])])}}};var Ze=a(7991);const De=Se,We=De;Z()(Se,"components",{QRadio:Ze.Z});const Qe={__name:"EnumFilter",props:{enums:{type:Array,default:()=>[]}},emits:["filter"],setup(e,{emit:l}){const a=(0,n.iH)(null);return(0,t.YP)(a,(()=>l("filter",{value:Object.values(a.value),type:o.QD.Enum}))),(l,n)=>{const o=(0,t.up)("q-select");return(0,t.wg)(),(0,t.j4)(o,{style:{"min-width":"200px"},modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),options:e.enums,label:"Selecione",multiple:""},null,8,["modelValue","options"])}}},xe=Qe,Ce=xe;Z()(Qe,"components",{QSelect:ce.Z});const He={__name:"TableFilter",props:{type:{type:String,default:()=>o.QD.Any},column:{type:String},enums:{type:Array,default:()=>[]}},setup(e){return(l,a)=>((0,t.wg)(),(0,t.iD)("div",null,[e.type===(0,n.SU)(o.QD).Any?((0,t.wg)(),(0,t.j4)(Ve,{key:0,onFilter:a[0]||(a[0]=a=>l.$emit("filter",{column:e.column,...a}))})):(0,t.kq)("",!0),e.type===(0,n.SU)(o.QD).Bool?((0,t.wg)(),(0,t.j4)(We,{key:1,onFilter:a[1]||(a[1]=a=>l.$emit("filter",{column:e.column,...a}))})):(0,t.kq)("",!0),e.type===(0,n.SU)(o.QD).Enum?((0,t.wg)(),(0,t.j4)(Ce,{key:2,enums:e.enums,onFilter:a[2]||(a[2]=a=>l.$emit("filter",{column:e.column,...a}))},null,8,["enums"])):(0,t.kq)("",!0)]))}},Be=He,ze=Be,Ie=(0,t.Uk)(" Ativo "),Pe=(0,t.Uk)("Reset"),Re={__name:"DataTable",props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},separator:{type:String,default:()=>o.Pi.Horizontal},title:{type:String},loading:{type:Boolean,default:!1}},setup(e){const l=e;function a(e){if(e)return{sortBy:void 0,descending:!0,page:1,rowsPerPage:50}}const r=a(l.columns),u=(0,n.iH)(l.rows),i=(0,n.iH)({}),d=(0,n.iH)({});function m(e){u.value=Q.Ce.filter(l.rows,e,d)}function c(e){u.value=Q.Ce.clearFilter(l.rows,e,d)}function p(e){var a;null===(a=l.columns)||void 0===a||a.forEach((l=>{l.type===o.QD.Enum&&l.filterable&&(i.value[l.name]=[...new Set(e.map((e=>e.get(l.name).value)))])}))}return(0,t.m0)((()=>{u.value=Q.Ce.apply(l.rows,d),p(l.rows)})),(l,a)=>{const o=(0,t.up)("q-badge"),p=(0,t.up)("q-btn"),w=(0,t.up)("q-popup-edit"),v=(0,t.up)("q-th"),g=(0,t.up)("q-tr"),y=(0,t.up)("q-td"),f=(0,t.up)("q-icon"),b=(0,t.up)("q-table");return(0,t.wg)(),(0,t.j4)(b,{class:"ebisu-table",columns:e.columns,rows:u.value,title:e.title,separator:e.separator,pagination:(0,n.SU)(r),loading:e.loading},{header:(0,t.w5)((e=>[(0,t.Wm)(g,{props:e},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cols,(l=>((0,t.wg)(),(0,t.j4)(v,{key:l.name,props:e},{default:(0,t.w5)((()=>[(0,t._)("span",{class:(0,s.C_)(l.filterable?"cursor-pointer":"")},(0,s.zw)(l.label),3),d.value[l.name]?((0,t.wg)(),(0,t.j4)(o,{key:0,color:"red",class:"q-ml-sm"},{default:(0,t.w5)((()=>[Ie])),_:1})):(0,t.kq)("",!0),l.filterable?((0,t.wg)(),(0,t.j4)(w,{key:1,modelValue:l.label,"onUpdate:modelValue":e=>l.label=e,title:`Filtrar ${l.label}`,cover:!1,anchor:"top right"},{default:(0,t.w5)((()=>[(0,t.Wm)(ze,{type:l.type,enums:i.value[l.name],column:l.name,onFilter:m},null,8,["type","enums","column"]),(0,t.Wm)(p,{flat:"",class:"q-mt-sm full-width",onClick:e=>c(l)},{default:(0,t.w5)((()=>[Pe])),_:2},1032,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue","title"])):(0,t.kq)("",!0)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),"body-cell-card":(0,t.w5)((e=>[(0,t.Wm)(y,{props:e,class:"asd"},{default:(0,t.w5)((()=>{var l;return[(0,t._)("span",{style:(0,s.j5)(`color: ${null===(l=e.row.get(e.col.name))||void 0===l?void 0:l.color}`)},(0,s.zw)(e.value),5)]})),_:2},1032,["props"])])),"body-cell-actions":(0,t.w5)((e=>[(0,t.Wm)(y,{props:e,class:"action-field"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.value,((e,l)=>((0,t.wg)(),(0,t.j4)(f,{key:`tab-${l}`,onClick:e.action,round:"",color:e.color,size:"sm",name:e.icon},{default:(0,t.w5)((()=>[(0,t.Wm)(be,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.tooltip),1)])),_:2},1024)])),_:2},1032,["onClick","color","name"])))),128))])),_:2},1032,["props"])])),_:1},8,["columns","rows","title","separator","pagination","loading"])}}};var je=a(2468),Ae=a(8186),Ne=a(2414),$e=a(9721),Te=a(4522),Ee=a(4607),Fe=a(3884),Ye=a(4554);const Le=Re,Ke=Le;Z()(Re,"components",{QTable:je.Z,QTr:Ae.Z,QTh:Ne.Z,QBadge:$e.Z,QPopupEdit:Te.Z,QBtn:Ee.Z,QTd:Fe.Z,QIcon:Ye.Z});const Me={__name:"ExpenseTable",setup(e){const l=(0,x.Z)(),a=(0,n.iH)(!1),s=(0,n.iH)([]);async function r(){try{a.value=!0,s.value=await Q.LZ.getCurrentExpenses(),a.value=!1}catch(e){console.log(e),a.value=!1,l.notify(new C.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}(0,t.bv)((async()=>{await r()}));let u=[new o.sg({name:"name",label:"Nome",align:o.iW.Left}),new o.sg({name:"amount",label:"Valor"}),new o.sg({name:"date",label:"Data"}),new o.sg({name:"payed",label:"Pago",type:o.QD.Bool}),new o.sg({name:"card",label:"Cartão",type:o.QD.Enum}),new o.sg({name:"beneficiary",label:"Beneficiario"}),new o.sg({name:"installments",label:"Parcelamento"}),new o.sg({name:"actions",label:"Ações",filterable:!1})],i=(0,t.Fl)((()=>s.value.map((e=>{var l,a,t,n,s,r,u;return new o.X2([new o.qe({key:"name",value:e.name}),new o.qe({key:"amount",value:e.amount.toReal()}),new o.qe({key:"date",value:e.date.display()}),new o.qe({key:"payed",value:e.payed?"Sim":"Não"}),new o.qe({key:"card",value:null!==(l=null===(a=e.card)||void 0===a?void 0:a.name)&&void 0!==l?l:"N/A",color:null===(t=e.card)||void 0===t?void 0:t.color}),new o.qe({key:"beneficiary",value:null!==(n=null===(s=e.beneficiary)||void 0===s?void 0:s.name)&&void 0!==n?n:"N/A"}),new o.qe({key:"installments",value:null!==(r=null===(u=e.installmentInformation)||void 0===u?void 0:u.display())&&void 0!==r?r:"N/A"}),new o.DW([new o.Ln("positive","check","Pagar",(()=>d(e.id))),new o.Ln("negative","close","Deletar",(()=>m(e.id)))])])}))));async function d(e){try{const a=l.notify(new C.BT),t=await Q.LZ.pay(e);a(),l.notify(new C.Ur(t)),r()}catch(a){console.log(a),l.notify(new C.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}async function m(e){try{const a=l.notify(new C.BT),t=await Q.LZ["delete"](e);a(),l.notify(new C.Ur(t)),r()}catch(a){console.log(a),l.notify(new C.lt("Não foi possivel carregar as despesas. Tente novamente mais tarde!"))}}return(e,l)=>((0,t.wg)(),(0,t.j4)(Ke,{columns:(0,n.SU)(u),rows:(0,n.SU)(i),title:"Despesas",loading:a.value},null,8,["columns","rows","loading"]))}},Oe=Me,Xe=Oe;var Ge=a(7035);const Je={class:"title"},el={class:"actions"},ll={__name:"PageHeader",props:{title:{type:String,default:""},bordered:{type:Boolean,default:!1}},setup(e){return(l,a)=>((0,t.wg)(),(0,t.j4)(Ge.Z,{class:"q-mb-md page-header",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t._)("div",Je,(0,s.zw)(e.title),1),(0,t._)("div",el,[(0,t.WI)(l.$slots,"default")])])),_:3}))}};var al=a(151);const tl=ll,nl=tl;Z()(ll,"components",{QCard:al.Z,QBtn:Ee.Z});const ol={class:"form-header"},sl={class:"form-section"},rl={__name:"DrawerForm",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e){return(l,a)=>{const n=(0,t.up)("q-drawer");return(0,t.wg)(),(0,t.j4)(n,{"model-value":e.modelValue,"onUpdate:modelValue":a[0]||(a[0]=e=>l.$emit("input",e.target.value)),bordered:"",class:"bg-grey-1 form-drawer",side:"right"},{default:(0,t.w5)((()=>[(0,t._)("div",ol,(0,s.zw)(e.title),1),(0,t._)("div",sl,[(0,t.WI)(l.$slots,"default")])])),_:3},8,["model-value"])}}};var ul=a(6115);const il=(0,k.Z)(rl,[["__scopeId","data-v-02f223de"]]),dl=il;Z()(rl,"components",{QDrawer:A.Z,QField:ul.Z});var ml=a(8554),cl=a(6755);class pl{constructor(e,l){this.id=e,this.name=l}}const wl={class:"row items-center justify-end"},vl={class:"flex justify-around"},gl={key:0},yl={__name:"DebitExpenseForm",props:{modelValue:{type:Boolean,default:!1}},setup(e){let l=(0,n.qj)(new ue.Jb(ue.uG.Debit)),a={name:[e=>e&&e.length>0||"O nome da despesa é obrigatório"],amount:[e=>e&&re.Z.format(e)>0||"O valor da despesa deve ser maior que 0"],currentInstallment:[e=>e&&re.Z.format(e)>1||"Despesas recorrentes devem ter pelo menos 2 parcelas"]},o=[new cl.Z("2","Wendy Artiaga"),new cl.Z("3","Maria Aparecida"),new cl.Z("4","Tatielle Fernandes")],r=[new pl("2","Nubank"),new pl("3","Picpay"),new pl("4","Direcional")],u=o.map((e=>({label:e.name,value:`U-${e.id}`,type:ml.Z.User}))).concat(r.map((e=>({label:e.name,value:`E-${e.id}`,type:ml.Z.Establishment}))));return(o,r)=>{const i=(0,t.up)("q-input"),d=(0,t.up)("q-btn"),m=(0,t.up)("q-date"),c=(0,t.up)("q-popup-proxy"),p=(0,t.up)("q-icon"),w=(0,t.up)("q-item-label"),v=(0,t.up)("q-item-section"),g=(0,t.up)("q-item"),y=(0,t.up)("q-select"),f=(0,t.up)("q-checkbox"),b=(0,t.up)("q-form"),h=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(dl,{"model-value":e.modelValue,title:"Criar Despesa","onUpdate:modelValue":r[9]||(r[9]=e=>o.$emit("input",e.target.value))},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{onSubmit:o.onSubmit,onReset:o.onReset,class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{modelValue:(0,n.SU)(l).name,"onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.SU)(l).name=e),label:"Nome","lazy-rules":"",rules:(0,n.SU)(a).name},null,8,["modelValue","rules"]),(0,t.Wm)(i,{modelValue:(0,n.SU)(l).amount,"onUpdate:modelValue":r[1]||(r[1]=e=>(0,n.SU)(l).amount=e),label:"Valor",mask:"##.###,##","reverse-fill-mask":"","lazy-rules":"",rules:(0,n.SU)(a).amount},null,8,["modelValue","rules"]),(0,t.Wm)(i,{modelValue:(0,n.SU)(l).date,"onUpdate:modelValue":r[3]||(r[3]=e=>(0,n.SU)(l).date=e),mask:"##/##/####",label:"Data","lazy-rules":""},{append:(0,t.w5)((()=>[(0,t.Wm)(p,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{modelValue:(0,n.SU)(l).date,"onUpdate:modelValue":r[2]||(r[2]=e=>(0,n.SU)(l).date=e),mask:"DD/MM/YYYY"},{default:(0,t.w5)((()=>[(0,t._)("div",wl,[(0,t.wy)((0,t.Wm)(d,{label:"Close",color:"primary",flat:""},null,512),[[h]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(y,{class:"destiny-select",modelValue:(0,n.SU)(l).destiny,"onUpdate:modelValue":r[4]||(r[4]=e=>(0,n.SU)(l).destiny=e),options:(0,n.SU)(u),label:"Destino"},{option:(0,t.w5)((e=>[(0,t.Wm)(g,(0,s.vs)((0,t.F4)(e.itemProps)),{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(w,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.opt.type==(0,n.SU)(ml.Z).User?"Usuario":"Estabelecimento"),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,t._)("div",vl,[(0,t.Wm)(f,{modelValue:(0,n.SU)(l).isPayed,"onUpdate:modelValue":r[5]||(r[5]=e=>(0,n.SU)(l).isPayed=e),label:"Pago"},null,8,["modelValue"]),(0,t.Wm)(f,{modelValue:(0,n.SU)(l).hasInstallments,"onUpdate:modelValue":r[6]||(r[6]=e=>(0,n.SU)(l).hasInstallments=e),label:"Recorrente"},null,8,["modelValue"])]),(0,n.SU)(l).hasInstallments?((0,t.wg)(),(0,t.iD)("div",gl,[(0,t.Wm)(i,{modelValue:(0,n.SU)(l).installmentsInformation.currentInstallment,"onUpdate:modelValue":r[7]||(r[7]=e=>(0,n.SU)(l).installmentsInformation.currentInstallment=e),label:"Parcela Atual",mask:"###","lazy-rules":"",rules:(0,n.SU)(a).clearable},null,8,["modelValue","rules"]),(0,t.Wm)(i,{modelValue:(0,n.SU)(l).installmentsInformation.maxInstallments,"onUpdate:modelValue":r[8]||(r[8]=e=>(0,n.SU)(l).installmentsInformation.maxInstallments=e),label:"Ultima Parcela",mask:"###","lazy-rules":"",clearable:""},null,8,["modelValue"])])):(0,t.kq)("",!0),(0,t._)("div",null,[(0,t.Wm)(d,{class:"full-width",label:"Adicionar",color:"primary"})])])),_:1},8,["onSubmit","onReset"])])),_:1},8,["model-value"])}}};var fl=a(5269),bl=a(3944),hl=a(643),_l=a(3414),Ul=a(2035),kl=a(2350),Vl=a(6271),ql=a(677);Z()(yl,"components",{QForm:fl.Z,QInput:Ue.Z,QIcon:Ye.Z,QPopupProxy:bl.Z,QDate:hl.Z,QBtn:Ee.Z,QSelect:ce.Z,QItem:_l.Z,QItemSection:Ul.Z,QItemLabel:kl.Z,QCheckbox:Vl.Z}),Z()(yl,"directives",{ClosePopup:ql.Z});a(5297);const Sl=(0,t.Uk)(" Resumo Compras "),Zl={__name:"CreditSummary",setup(e){const l=(0,x.Z)();let a=[new o.sg({name:"card",label:"Cartão"}),new o.sg({name:"spent",label:"Gasto"}),new o.sg({name:"planned",label:"Planejado"}),new o.sg({name:"difference",label:"Diferença"})];const s=(0,n.iH)([]),r=(0,n.iH)(!1);(0,t.bv)((async()=>{try{r.value=!1,s.value=await Q.sM.getCreditSummary(),r.value=!0}catch(e){r.value=!0,l.notify(new C.lt("Não foi possivel buscar resumo de credito. Tente novamente mais tarde!"))}}));let u=(0,t.Fl)((()=>s.value.map((e=>new o.X2([new o.qe({key:"card",value:e.card.name,color:e.card.color,size:"1rem",weight:600}),new o.qe({key:"spent",value:e.spent.toReal()}),new o.qe({key:"planned",value:e.planned.toReal()}),new o.qe({key:"difference",value:e.difference.toReal(),color:e.difference.color,size:"1rem",weight:600})])))));return(e,l)=>((0,t.wg)(),(0,t.j4)(W,{columns:(0,n.SU)(a),rows:(0,n.SU)(u),"has-header":"",loaded:r.value},{header:(0,t.w5)((()=>[Sl])),_:1},8,["columns","rows","loaded"]))}},Dl=Zl,Wl=Dl,Ql={class:"row"},xl={class:"col"},Cl={class:"row"},Hl={class:"col q-gutter-md"},Bl={class:"row"},zl={class:"col q-gutter-md"},Il={class:"row q-gutter-x-md"},Pl={class:"col q-ml-none holder"},Rl={class:"col holder"},jl={class:"col holder"},Al={class:"row last-footer"},Nl={class:"col holder"},$l={__name:"Index",emits:["openRightDrawerWith"],setup(e,{emit:l}){function a(){l("openRightDrawerWith",se)}return(e,l)=>{const n=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)("div",Ql,[(0,t._)("div",xl,[(0,t._)("div",Cl,[(0,t._)("div",Hl,[(0,t.Wm)(nl,{title:"Despesas"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{outline:"",color:"secondary",icon:"file_open",label:"Ver Resumo",onClick:a})])),_:1})])]),(0,t._)("div",Bl,[(0,t._)("div",zl,[(0,t._)("div",Il,[(0,t._)("div",Pl,[(0,t.Wm)(I)]),(0,t._)("div",Rl,[(0,t.Wm)(Wl)]),(0,t._)("div",jl,[(0,t.Wm)(we)])]),(0,t._)("div",Al,[(0,t._)("div",Nl,[(0,t.Wm)(Xe)])])])])])])}}},Tl=(0,k.Z)($l,[["__scopeId","data-v-2429a5c5"]]),El=Tl;Z()($l,"components",{QBtn:Ee.Z})}}]);